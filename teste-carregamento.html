<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste Estado de Carregamento</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            line-height: 1.6;
        }
        .test-info {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        .loading-demo {
            background: #fff3cd;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #ffc107;
            margin: 15px 0;
        }
        .success-box {
            background: #d4edda;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #28a745;
            margin: 15px 0;
        }
        .demo-pill {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.35rem 0.6rem;
            border-radius: 999px;
            font-weight: 700;
            font-size: 0.8rem;
            margin: 5px;
        }
        .demo-pill.loading {
            background: rgba(108,117,125,.12);
            color: #6c757d;
            animation: pulse-loading 1.5s ease-in-out infinite;
        }
        .demo-pill.open {
            background: rgba(40,167,69,.12);
            color: #2e7d32;
        }
        .demo-pill.closed {
            background: rgba(220,53,69,.12);
            color: #c62828;
        }
        @keyframes pulse-loading {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.6; }
        }
    </style>
</head>
<body>
    <div class="test-info">
        <h2>‚è≥ Teste: Estado de Carregamento do Status</h2>
        <p><strong>Comportamento Esperado:</strong></p>
        <ul>
            <li><strong>In√≠cio:</strong> Status aparece cinza com "Carregando..." por ~500ms</li>
            <li><strong>Depois:</strong> Carrega o verdadeiro status (aberto/fechado) do localStorage</li>
            <li><strong>SidebarStatusPill:</strong> Tamb√©m mostra carregamento primeiro</li>
            <li><strong>StatusPill da se√ß√£o:</strong> Carregamento ao abrir "Funcionamento"</li>
        </ul>
    </div>

    <div class="loading-demo">
        <h3>üé® Demonstra√ß√£o Visual dos Estados:</h3>
        <p>
            <span class="demo-pill loading"><i class="fas fa-circle"></i> Carregando...</span>
            <span class="demo-pill open"><i class="fas fa-circle"></i> Aberta</span>
            <span class="demo-pill closed"><i class="fas fa-circle"></i> Fechada</span>
        </p>
        <small>O estado "Carregando" tem anima√ß√£o de pulse (piscar suave)</small>
    </div>

    <div class="test-info">
        <h3>üß™ Para testar o carregamento:</h3>
        <ol>
            <li><strong>Recarregue a p√°gina admin.html</strong></li>
            <li>Observe o <strong>sidebarStatusPill</strong> (canto superior esquerdo):
                <ul>
                    <li>Deve aparecer cinza "Carregando..." primeiro</li>
                    <li>Ap√≥s ~500ms muda para o status real</li>
                </ul>
            </li>
            <li>V√° para a se√ß√£o <strong>"Funcionamento"</strong></li>
            <li>Observe o <strong>statusPill</strong> da se√ß√£o:
                <ul>
                    <li>Deve aparecer cinza "Carregando..." primeiro</li>
                    <li>Depois carrega o status real do localStorage</li>
                </ul>
            </li>
        </ol>
    </div>

    <div class="success-box">
        <h3>‚úÖ Funcionalidades Implementadas:</h3>
        <ul>
            <li><strong>CSS loading:</strong> Estado cinza com anima√ß√£o pulse</li>
            <li><strong>SidebarStatusPill:</strong> Carregamento por 500ms</li>
            <li><strong>StatusPill se√ß√£o:</strong> Carregamento at√© render completo</li>
            <li><strong>Transi√ß√£o suave:</strong> De carregando para status real</li>
            <li><strong>Persist√™ncia mantida:</strong> Carrega √∫ltimo status salvo</li>
        </ul>
    </div>

    <div class="loading-demo">
        <h4>üîß Implementa√ß√£o T√©cnica:</h4>
        <ul>
            <li><strong>initSidebarStatusPill():</strong> Inicia com loading, setTimeout para status real</li>
            <li><strong>statusManager.init():</strong> showLoadingState() antes do carregamento</li>
            <li><strong>CSS .loading:</strong> Cor cinza + anima√ß√£o pulse</li>
            <li><strong>renderPill():</strong> Remove loading e aplica status real</li>
        </ul>
    </div>

    <p><a href="admin.html" style="background: #007bff; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px;">‚û°Ô∏è Ir para Admin Panel</a></p>
</body>
</html>