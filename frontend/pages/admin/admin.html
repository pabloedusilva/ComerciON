<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="shortcut icon" href="../../assets/images/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
        <style id="critical-hide-gate">
            /* Hide all content until ready, show skeleton only for logos */
            body:not(.data-ready) .sidebar,
            body:not(.data-ready) .main-content { visibility: hidden !important; }
            
            body:not(.data-ready) .logo {
              background: #f0f0f0 !important;
              animation: skeleton-pulse 1.5s ease-in-out infinite alternate;
            }
            
            @keyframes skeleton-pulse {
              0% { background: #f0f0f0 !important; }
              100% { background: #e0e0e0 !important; }
            }
        </style>
    <link rel="stylesheet" href="../../assets/css/shared/style.css">
    <link rel="stylesheet" href="../../assets/css/admin/admin.css">
    <link rel="stylesheet" href="../../assets/css/admin/notifications.css">
    <!-- CSS da Seção de Desenvolvedor (carregado condicionalmente) -->
    <link rel="stylesheet" href="../../assets/css/admin/developer.css" id="developer-styles" disabled>
        <style>
            /* Scoped styles for Category Modal layout */
                #categoryModal .modal-content {
                    box-sizing: border-box;
                    max-width: 980px;
                    width: min(96vw, 980px);
                    max-height: 92vh;
                    display: flex;
                    flex-direction: column;
                    overflow: hidden; /* evita scroll lateral em conteúdos internos */
                }
                #categoryModal .modal-body {
                    overflow: auto; /* apenas scroll vertical quando necessário */
                    padding: 12px 16px 16px;
                    overscroll-behavior: contain;
                }
            .category-grid { display: grid; grid-template-columns: 1fr 1.2fr; gap: 20px; }
            .category-form-card, .category-list-card {
                background: #fff; border-radius: 12px; padding: 16px; box-shadow: 0 4px 14px rgba(0,0,0,0.06);
            }
            .category-form-card .form-title, .category-list-card .list-title { margin-bottom: 10px; }
            .form-subtitle { color: #6b7280; font-size: 0.92rem; margin: 4px 0 0; }
            .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 14px; }
            .form-group { display: flex; flex-direction: column; }
            .form-group-inline .inline-field { display: inline-flex; align-items: center; gap: 8px; margin-top: 8px; }
            .helper { color: #9ca3af; font-size: 0.82rem; margin-top: 6px; }
            .stick-right { display: flex; gap: 10px; justify-content: flex-end; margin-top: 12px; }
                #categoryModal .table-wrapper {
                    overflow-x: hidden; /* remove barra horizontal */
                    overflow-y: auto;
                    max-height: 52vh; /* permite header sticky visível com muita lista */
                    -webkit-overflow-scrolling: touch;
                }
                #categoryModal table {
                    width: 100%;
                    min-width: 0; /* permite encolher sem barra horizontal */
                    border-collapse: collapse;
                    table-layout: auto;
                }
                #categoryModal table thead th {
                    position: sticky;
                    top: 0;
                    z-index: 1;
                    background: #ffffff;
                    box-shadow: inset 0 -1px 0 #eef2f7;
                }
                #categoryModal table th,
                #categoryModal table td { vertical-align: middle; }
                #categoryModal table td { word-break: break-word; overflow-wrap: anywhere; }
                /* Truncamento suave para células longas no desktop */
                #categoryModal .truncate { display: inline-block; max-width: 260px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; vertical-align: middle; }
                #categoryModal .truncate.slug { max-width: 220px; color: #374151; }
                /* Badge de status clicável */
                #categoryModal .status-badge { padding: 4px 10px; border-radius: 999px; font-size: 0.78rem; cursor: pointer; user-select: none; }
                #categoryModal .status-badge.active { background: #ecfdf5; color: #059669; border: 1px solid #a7f3d0; }
                #categoryModal .status-badge.inactive { background: #fef2f2; color: #b91c1c; border: 1px solid #fecaca; }
                #categoryModal .status-badge:focus { outline: 2px solid #93c5fd; outline-offset: 2px; }
                /* Ponto de status compacto */
                #categoryModal .status-dot { display: inline-block; width: 12px; height: 12px; border-radius: 50%; border: 1px solid rgba(0,0,0,0.1); cursor: pointer; }
                #categoryModal .status-dot.green { background: #10b981; }
                #categoryModal .status-dot.red { background: #ef4444; }
                #categoryModal .status-dot:focus { outline: 2px solid #93c5fd; outline-offset: 2px; }
                /* Ações */
                #categoryModal .action-buttons { display: inline-flex; gap: 8px; align-items: center; }
                #categoryModal .action-buttons .action-btn { border: none; background: #f3f4f6; color: #374151; padding: 6px 8px; border-radius: 8px; cursor: pointer; }
                #categoryModal .action-buttons .action-btn:hover { background: #e5e7eb; }
                #categoryModal .action-buttons .action-btn.delete { background: #fee2e2; color: #991b1b; }
                #categoryModal .action-buttons .action-btn.delete:hover { background: #fecaca; }
            @media (max-width: 980px) {
                .category-grid { grid-template-columns: 1fr; }
            }
                @media (max-width: 720px) {
                    #categoryModal .modal-header h3 { font-size: 1.1rem; }
                    .form-row { grid-template-columns: 1fr; gap: 10px; }
                    .category-form-card, .category-list-card { padding: 12px; border-radius: 10px; }
                    .helper { font-size: 0.78rem; }
                    .stick-right { flex-direction: column-reverse; align-items: stretch; gap: 8px; }
                    #categoryModal .btn-primary, #categoryModal .btn-secondary { width: 100%; }
                }
                /* Card layout para tabela em telas pequenas (remove necessidade de scroll horizontal) */
                @media (max-width: 620px) {
                    #categoryModal .modal-content { width: 98vw; }
                    #categoryModal .products-table thead { display: none; }
                    #categoryModal .products-table tbody tr {
                        display: grid;
                        grid-template-columns: 1fr;
                        gap: 8px;
                        padding: 12px;
                        margin-bottom: 10px;
                        border: 1px solid #eef2f7;
                        border-radius: 10px;
                        background: #fff;
                    }
                    #categoryModal .products-table tbody td {
                        display: grid;
                        grid-template-columns: 110px 1fr;
                        align-items: center;
                        gap: 8px;
                        padding: 0;
                    }
                    #categoryModal .products-table tbody td::before {
                        content: attr(data-label);
                        font-weight: 600;
                        color: #6b7280;
                    }
                    #categoryModal .products-table tbody td:last-child {
                        grid-template-columns: 1fr; /* ações ocupam toda linha */
                    }
                    #categoryModal .products-table .action-buttons { display: flex; gap: 10px; flex-wrap: wrap; }
                    #categoryModal .truncate { max-width: 100%; white-space: normal; overflow: visible; text-overflow: clip; }
                }
        </style>
    <title>Dashboard Admin - Estabelecimento</title>
</head>

<body>
    <div class="loader-content">
        <div class="loader-circle"></div>
    </div>
    
    <!-- Sidebar -->
    <aside class="sidebar">
        <div class="sidebar-header">
            <div class="sidebar-header-inner">
                <div class="logo-block">
                    <div class="logo-text">
                        <h2>Admin Panel</h2>
                        <span class="logo-subtitle">Gestão completa</span>
                    </div>
                </div>
                <div class="meta-block">
                    <span id="sidebarStatusPill" class="status-pill open" aria-live="polite" title="Status da loja">
                        <i class="fas fa-circle"></i> Aberta
                    </span>
                    <div class="datetime-display" id="sidebarDateTime">
                        <span class="date-text" id="dateText">--</span>
                        <span class="time-text" id="timeText">--:--</span>
                    </div>
                </div>
                <button class="sidebar-toggle" id="sidebarToggle" aria-label="Alternar sidebar">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </div>

        <nav class="sidebar-nav">
            <div class="nav-section">
                <span class="nav-section-title">Principal</span>
                <ul>
                    <li>
                        <a href="#dashboard" class="nav-link active" data-section="dashboard">
                            <div class="nav-icon">
                                <i class="fas fa-chart-pie"></i>
                            </div>
                            <span class="nav-text">Dashboard</span>
                            <div class="nav-indicator"></div>
                        </a>
                    </li>
                    <li>
                        <a href="#produtos" class="nav-link" data-section="produtos">
                            <div class="nav-icon">
                                <i class="fas fa-pizza-slice"></i>
                            </div>
                            <span class="nav-text">Produtos</span>
                            <div class="nav-indicator"></div>
                        </a>
                    </li>
                    <li>
                        <a href="#pedidos" class="nav-link" data-section="pedidos">
                            <div class="nav-icon">
                                <i class="fas fa-shopping-cart"></i>
                            </div>
                            <span class="nav-text">Pedidos</span>
                            <span class="badge">0</span>
                            <div class="nav-indicator"></div>
                        </a>
                    </li>
                </ul>
            </div>

            <div class="nav-section">
                <span class="nav-section-title">Análises</span>
                <ul>
                    <li>
                        <a href="#relatorios" class="nav-link" data-section="relatorios">
                            <div class="nav-icon">
                                <i class="fas fa-chart-bar"></i>
                            </div>
                            <span class="nav-text">Relatórios</span>
                            <div class="nav-indicator"></div>
                        </a>
                    </li>
                    <li>
                        <a href="#clientes" class="nav-link" data-section="clientes">
                            <div class="nav-icon">
                                <i class="fas fa-users"></i>
                            </div>
                            <span class="nav-text">Clientes</span>
                            <div class="nav-indicator"></div>
                        </a>
                    </li>
                    <li>
                        <a href="#avaliacoes" class="nav-link" data-section="avaliacoes">
                            <div class="nav-icon">
                                <i class="fas fa-star"></i>
                            </div>
                            <span class="nav-text">Avaliações</span>
                            <div class="nav-indicator"></div>
                        </a>
                    </li>
                </ul>
            </div>

            <div class="nav-section">
                <span class="nav-section-title">Sistema</span>
                <ul>
                    <li>
                        <a href="#funcionamento" class="nav-link" data-section="funcionamento">
                            <div class="nav-icon">
                                <i class="fas fa-store"></i>
                            </div>
                            <span class="nav-text">Funcionamento</span>
                            <div class="nav-indicator"></div>
                        </a>
                    </li>
                    <li>
                        <a href="#entregas" class="nav-link" data-section="entregas">
                            <div class="nav-icon">
                                <i class="fas fa-truck"></i>
                            </div>
                            <span class="nav-text">Entregas</span>
                            <div class="nav-indicator"></div>
                        </a>
                    </li>
                    <li>
                        <a href="#layout" class="nav-link" data-section="layout">
                            <div class="nav-icon">
                                <i class="fas fa-palette"></i>
                            </div>
                            <span class="nav-text">Layout</span>
                            <div class="nav-indicator"></div>
                        </a>
                    </li>
                    <li>
                        <a href="#configuracoes" class="nav-link" data-section="configuracoes">
                            <div class="nav-icon">
                                <i class="fas fa-cog"></i>
                            </div>
                            <span class="nav-text">Configurações</span>
                            <div class="nav-indicator"></div>
                        </a>
                    </li>
                </ul>
            </div>

            <!-- Seção de Desenvolvedor - Apenas para Super Admins -->
            <div class="nav-section" id="developer-nav-section" style="display: none;">
                <span class="nav-section-title">Desenvolvedor</span>
                <ul>
                    <li>
                        <a href="#developer-section" class="nav-link developer-nav" data-section="developer">
                            <div class="nav-icon">
                                <i class="fas fa-code"></i>
                            </div>
                            <span class="nav-text">Seção Desenvolvedor</span>
                            <div class="nav-indicator"></div>
                        </a>
                    </li>
                </ul>
            </div>
        </nav>

        <div class="sidebar-footer">
            <div class="user-profile loading" aria-busy="true" aria-live="polite">
                <div class="user-avatar skeleton-avatar">
                    <img alt="" aria-hidden="true" style="opacity:0;" />
                    <div class="status-indicator" style="display:none"></div>
                </div>
                <div class="user-info">
                    <span class="user-name skeleton-text" data-placeholder="nome"></span>
                    <span class="user-role skeleton-text" data-placeholder="nivel"></span>
                </div>
            </div>
            <button type="button" class="btn-logout" onclick="window.__adminLogout && window.__adminLogout()">
                <div class="logout-icon">
                    <i class="fas fa-sign-out-alt"></i>
                </div>
                <span>Sair do Sistema</span>
            </button>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Header -->
        <header class="admin-header">
            <div class="header-left">
                <button class="mobile-menu-toggle" id="mobileMenuToggle">
                    <i class="fas fa-bars"></i>
                </button>
                <h1 id="pageTitle">Dashboard</h1>
            </div>
            <div class="header-right">
                <div class="search-box">
                    <i class="fas fa-search"></i>
                    <input type="text" placeholder="Pesquisar...">
                </div>
                <div class="notifications">
                    <button class="notification-btn">
                        <i class="fas fa-bell"></i>
                        <span class="notification-badge">0</span>
                    </button>
                </div>
                <div class="header-logo">
                    <img src="../../assets/images/default-images/logo_pizza.png" alt="Logo do Estabelecimento">
                </div>
            </div>
        </header>

        <!-- Content Area -->
        <div class="content">
            <!-- Dashboard Section -->
            <section id="dashboard-section" class="content-section active">
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon revenue">
                            <i class="fas fa-dollar-sign"></i>
                        </div>
                        <div class="stat-info">
                            <h3>R$ 0,00</h3>
                            <p>Receita do Mês</p>
                            <span class="stat-trend neutral">0%</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon orders">
                            <i class="fas fa-shopping-cart"></i>
                        </div>
                        <div class="stat-info">
                            <h3>0</h3>
                            <p>Pedidos do Mês</p>
                            <span class="stat-trend neutral">0%</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon customers">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-info">
                            <h3>0</h3>
                            <p>Novos Clientes</p>
                            <span class="stat-trend neutral">0%</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon products">
                            <i class="fas fa-pizza-slice"></i>
                        </div>
                        <div class="stat-info">
                            <h3>0</h3>
                            <p>Produtos Ativos</p>
                            <span class="stat-trend neutral">0%</span>
                        </div>
                    </div>
                </div>

                <div class="dashboard-grid">
                    <div class="chart-container">
                        <div class="chart-header">
                            <h3>Vendas dos Últimos 7 Dias</h3>
                            <select class="chart-filter">
                                <option>7 dias</option>
                                <option>30 dias</option>
                                <option>3 meses</option>
                            </select>
                        </div>
                        <div class="chart-content">
                            <canvas id="salesChart"></canvas>
                        </div>
                    </div>

                    <div class="recent-orders">
                        <h3>Pedidos Recentes</h3>
                        <div class="orders-list">
                            <!-- Preenchido via JavaScript -->
                        </div>
                        <a href="#pedidos-section" class="view-all-btn">Ver todos os pedidos</a>
                    </div>
                </div>

                <div class="popular-products">
                    <h3>Produtos Mais Vendidos</h3>
                    <div class="products-grid">
                        <!-- Preenchido via JavaScript -->
                    </div>
                </div>
            </section>

            <!-- Produtos Section -->
            <section id="produtos-section" class="content-section">
                <div class="section-header">
                    <h2>Gestão de Produtos</h2>
                    <div class="header-actions">
                        <button class="btn-secondary" id="manageCategoriesBtn" title="Gerenciar categorias">
                            <i class="fas fa-tags"></i>
                            Categorias
                        </button>
                        <button class="btn-primary" id="addProductBtn">
                            <i class="fas fa-plus"></i>
                            Adicionar Produto
                        </button>
                    </div>
                </div>

                <div class="filters-bar">
                    <div class="filter-group">
                        <select id="categoryFilter">
                            <option value="">Todas as Categorias</option>
                        </select>
                    </div>
                    <div class="search-filter">
                        <input type="text" id="productSearch" placeholder="Buscar produtos...">
                        <i class="fas fa-search"></i>
                    </div>
                </div>

                <div class="products-table">
                    <div class="table-wrapper">
                        <table class="table-responsive">
                            <thead>
                                <tr>
                                    <th>Imagem</th>
                                    <th>Nome</th>
                                    <th>Categoria</th>
                                    <th>Preço</th>
                                    <th>Status</th>
                                    <th>Ações</th>
                                </tr>
                            </thead>
                            <tbody id="productsTableBody">
                                <!-- Produtos serão inseridos via JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>

            <!-- Pedidos Section -->
            <section id="pedidos-section" class="content-section">
                <div class="section-header">
                    <h2>Gestão de Pedidos</h2>
                    <div class="header-actions">
                        <button class="btn-secondary" id="exportOrdersBtn">
                            <i class="fas fa-download"></i>
                            Exportar
                        </button>
                        <button class="btn-primary" id="refreshOrdersBtn">
                            <i class="fas fa-refresh"></i>
                            Atualizar
                        </button>
                        <button class="fullscreen-toggle" id="ordersFullscreenToggle" title="Visualizar em tela cheia">
                            <i class="fas fa-expand"></i>
                        </button>
                    </div>
                </div>

                <div class="filters-bar">
                    <div class="filter-group">
                        <select id="statusFilter">
                            <option value="">Todos os Status</option>
                            <option value="pendente">Pendente</option>
                            <option value="preparando">Preparando</option>
                            <option value="a_caminho">A caminho</option>
                            <option value="entregue">Entregue</option>
                            <option value="cancelado">Cancelado</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <input type="date" id="dateFilter">
                    </div>
                    <div class="search-filter">
                        <input type="text" id="orderSearch" placeholder="Buscar por cliente ou pedido...">
                        <i class="fas fa-search"></i>
                    </div>
                </div>

                <div class="orders-table">
                    <div class="table-wrapper">
                        <table class="table-responsive">
                            <thead>
                                <tr>
                                    <th>Pedido</th>
                                    <th>Cliente</th>
                                    <th>Data/Hora</th>
                                    <th>Items</th>
                                    <th>Endereço</th>
                                    <th>Total</th>
                                    <th>Status</th>
                                    <th>Ações</th>
                                </tr>
                            </thead>
                            <tbody id="ordersTableBody">
                                <!-- Pedidos serão inseridos via JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Fullscreen Orders Display -->
                <div class="orders-fullscreen-display" id="ordersFullscreenDisplay">
                    <div class="orders-grid" id="ordersGrid">
                        <!-- Orders cards will be inserted here via JavaScript -->
                    </div>
                </div>
            </section>

            <!-- Relatórios Section -->
            <section id="relatorios-section" class="content-section">
                <div class="section-header">
                    <h2>Relatórios e Análises</h2>
                    <div class="period-selector">
                        <button class="period-btn active" data-period="7">7 dias</button>
                        <button class="period-btn" data-period="30">30 dias</button>
                        <button class="period-btn" data-period="90">3 meses</button>
                        <button class="period-btn" data-period="365">1 ano</button>
                    </div>
                </div>

                <div class="reports-grid">
                    <div class="chart-box">
                        <h3>Vendas por Período</h3>
                        <canvas id="salesReportChart"></canvas>
                    </div>
                    <div class="chart-box">
                        <h3>Produtos Mais Vendidos</h3>
                        <canvas id="productsChart"></canvas>
                    </div>
                    <div class="chart-box">
                        <h3>Horários de Pico</h3>
                        <canvas id="peakHoursChart"></canvas>
                    </div>
                    <div class="metrics-box">
                        <h3>Métricas Importantes</h3>
                        <div class="metrics-list">
                            <div class="metric-item">
                                <span class="metric-label">Ticket Médio</span>
                                <span class="metric-value" id="metricTicketMedio">R$ 0,00</span>
                            </div>
                            <div class="metric-item">
                                <span class="metric-label">Tempo Médio Entrega</span>
                                <span class="metric-value" id="metricTempoEntrega">0 min</span>
                            </div>
                            <div class="metric-item">
                                <span class="metric-label">Taxa de Cancelamento</span>
                                <span class="metric-value" id="metricCancelamento">0%</span>
                            </div>
                            <div class="metric-item">
                                <span class="metric-label">Avaliação Média</span>
                                <span class="metric-value" id="metricAvaliacao">0 <i class="fas fa-star metric-star" aria-hidden="true"></i></span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Clientes Section -->
            <section id="clientes-section" class="content-section">
                <div class="section-header">
                    <h2>Gestão de Clientes</h2>
                </div>

                <div class="filters-bar">
                    <div class="search-filter">
                        <input type="text" id="clientSearch" placeholder="Buscar clientes...">
                        <i class="fas fa-search"></i>
                    </div>
                </div>

                <div class="clients-table">
                    <div class="table-wrapper">
                        <table class="table-responsive">
                            <thead>
                                <tr>
                                    <th>Nome</th>
                                    <th>Email</th>
                                    <th>Telefone</th>
                                    <th>Pedidos</th>
                                    <th>Total Gasto</th>
                                    <th>Último Pedido</th>
                                    <th>Ações</th>
                                </tr>
                            </thead>
                            <tbody id="clientsTableBody">
                                <!-- Clientes serão inseridos via JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>

            <!-- Avaliações Section -->
            <section id="avaliacoes-section" class="content-section">
                <div class="section-header">
                    <h2>Avaliações dos Clientes</h2>
                    <div class="header-info">
                        <span class="rating-summary">
                            <i class="fas fa-star"></i>
                            <span class="average-rating">4.8</span>
                            <span class="total-reviews">(247 avaliações)</span>
                        </span>
                    </div>
                </div>

                <div class="filters-bar">
                    <div class="search-filter">
                        <input type="text" id="reviewSearch" placeholder="Buscar avaliações...">
                        <i class="fas fa-search"></i>
                    </div>
                    <div class="rating-filter">
                        <select id="ratingFilter">
                            <option value="">Todas as avaliações</option>
                            <option value="5">5 estrelas</option>
                            <option value="4">4 estrelas</option>
                            <option value="3">3 estrelas</option>
                            <option value="2">2 estrelas</option>
                            <option value="1">1 estrela</option>
                        </select>
                    </div>
                </div>

                <div class="reviews-container">
                    <!-- Avaliações reais serão carregadas via API -->
                    <div class="empty-state" aria-live="polite">Nenhuma avaliação disponível no momento.</div>
                </div>
            </section>

            <!-- Configurações Section -->
            <section id="configuracoes-section" class="content-section">
                <div class="section-header with-description">
                    <h2>Configurações</h2>
                    <p class="section-description">Configure as informações e preferências do seu estabelecimento</p>
                </div>

                <form id="globalConfigForm" class="global-config-form">
                    <div class="config-grid">
                        <div class="config-card">
                            <h3>Informações do Estabelecimento</h3>
                            <div class="config-form">
                                <div class="form-group">
                                    <label for="estabelecimentoName">Nome do Estabelecimento</label>
                                    <input type="text" id="estabelecimentoName" name="estabelecimentoName" value="Estabelecimento">
                                </div>
                                <div class="form-group">
                                    <label for="estabelecimentoPhone">Telefone</label>
                                    <input type="tel" id="estabelecimentoPhone" name="estabelecimentoPhone" value="(11) 99999-9999">
                                </div>
                                <div class="form-group">
                                    <label for="estabelecimentoEmail">Email</label>
                                    <input type="email" id="estabelecimentoEmail" name="estabelecimentoEmail" value="contato@estabelecimento.com">
                                </div>
                                <div class="form-group">
                                    <label for="estabelecimentoAddress">Endereço</label>
                                    <textarea id="estabelecimentoAddress" name="estabelecimentoAddress">São Paulo, SP</textarea>
                                </div>
                            </div>
                        </div>

                        <div class="config-card">
                            <h3><i class="fas fa-volume-up"></i> Sons de Notificação</h3>
                            <div class="config-form">
                                <div class="form-group">
                                    <label for="notificationSound">Escolher Som de Notificação</label>
                                    <div class="sound-selector">
                                        <div class="sound-selection-container">
                                            <div class="sound-options">
                                                <div class="sound-option active" data-sound="../../assets/sounds/notificações1.mp3">
                                                    <div class="sound-info">
                                                        <i class="fas fa-bell"></i>
                                                        <span class="sound-name">Notificação 1</span>
                                                    </div>
                                                    <button class="sound-preview-btn" type="button">
                                                        <i class="fas fa-play"></i>
                                                    </button>
                                                </div>
                                                
                                                <div class="sound-option" data-sound="../../assets/sounds/notificações2.mp3">
                                                    <div class="sound-info">
                                                        <i class="fas fa-bell"></i>
                                                        <span class="sound-name">Notificação 2</span>
                                                    </div>
                                                    <button class="sound-preview-btn" type="button">
                                                        <i class="fas fa-play"></i>
                                                    </button>
                                                </div>
                                                
                                                <div class="sound-option" data-sound="../../assets/sounds/notificações3.mp3">
                                                    <div class="sound-info">
                                                        <i class="fas fa-bell"></i>
                                                        <span class="sound-name">Notificação 3</span>
                                                    </div>
                                                    <button class="sound-preview-btn" type="button">
                                                        <i class="fas fa-play"></i>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="form-group">
                                    <label class="checkbox-label">
                                        <input type="checkbox" id="soundNotifications" name="soundNotifications" checked>
                                        <span class="checkmark"></span>
                                        Ativar sons de notificação
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="config-actions">
                        <button type="button" class="btn-secondary" id="resetAllConfigBtn">
                            <i class="fas fa-undo"></i>
                            Restaurar Padrões
                        </button>
                        <button type="submit" class="btn-primary">
                            <i class="fas fa-save"></i>
                            Salvar Configurações
                        </button>
                    </div>
                </form>
            </section>

            <!-- Entregas Section -->
            <section id="entregas-section" class="content-section">
                <div class="section-header with-description">
                    <h2>Gerenciamento de Entregas</h2>
                    <p class="section-description">Configure áreas de entrega e defina taxas para cada cidade</p>
                </div>

                <div class="delivery-management">
                    <!-- Formulário de Adição -->
                    <div class="delivery-form-card">
                        <h3><i class="fas fa-map-marker-alt"></i> Adicionar Nova Área de Entrega</h3>
                        <form id="deliveryForm" class="delivery-form">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="stateSelect">Estado</label>
                                    <select id="stateSelect" name="state" required>
                                        <option value="">Selecione o estado</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="citySelect">Cidade</label>
                                    <select id="citySelect" name="city" required disabled>
                                        <option value="">Selecione a cidade</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="deliveryFee">Taxa de Entrega (R$)</label>
                                    <input type="number" id="deliveryFee" name="fee" step="0.01" min="0" placeholder="0,00" required>
                                </div>
                                <div class="form-group">
                                    <button type="submit" class="btn-primary">
                                        <i class="fas fa-plus"></i>
                                        Adicionar
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>

                    <!-- Lista de Áreas de Entrega -->
                    <div class="delivery-areas-card">
                        <div class="card-header">
                            <h3><i class="fas fa-list"></i> Áreas de Entrega Configuradas</h3>
                            <span class="delivery-count" id="deliveryCount">0 áreas</span>
                        </div>
                        
                        <div class="delivery-search">
                            <div class="search-wrapper">
                                <i class="fas fa-search"></i>
                                <input type="text" id="deliverySearch" placeholder="Buscar por estado ou cidade...">
                            </div>
                        </div>

                        <div class="delivery-areas-list" id="deliveryAreasList">
                            <div class="empty-state">
                                <i class="fas fa-truck"></i>
                                <h4>Nenhuma área de entrega configurada</h4>
                                <p>Adicione estados e cidades para começar a configurar suas áreas de entrega</p>
                            </div>
                        </div>
                    </div>

                    <!-- Estatísticas de Entregas -->
                    <div class="delivery-stats-card">
                        <div class="card-header">
                            <h3><i class="fas fa-chart-bar"></i> Estatísticas de Entregas</h3>
                            <span class="stats-period" id="statsPeriod">Últimos 30 dias</span>
                        </div>
                        
                        <div class="delivery-stats-content">
                            <div class="stats-overview">
                                <div class="stat-item">
                                    <div class="stat-value" id="totalDeliveries">247</div>
                                    <div class="stat-label">Total de Entregas</div>
                                </div>
                                <div class="stat-item">
                                    <div class="stat-value" id="avgDeliveryValue">R$ 52,80</div>
                                    <div class="stat-label">Ticket Médio</div>
                                </div>
                                <div class="stat-item">
                                    <div class="stat-value" id="topCitiesCount">12</div>
                                    <div class="stat-label">Cidades Atendidas</div>
                                </div>
                            </div>

                            <div class="top-cities-section">
                                <h4><i class="fas fa-trophy"></i> Cidades com Mais Entregas</h4>
                                <div class="top-cities-list" id="topCitiesList">
                                    <!-- Cities will be populated by JavaScript -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Layout Section -->
            <section id="layout-section" class="content-section">
                <div class="section-header with-description">
                    <h2>Gestão de Layout</h2>
                    <p class="section-description">Personalize a aparência visual do seu site</p>
                </div>

                <div class="layout-grid">
                    <!-- Background Editor -->
                    <div class="layout-card">
                        <div class="layout-card-header">
                            <h3><i class="fas fa-image"></i> Background da Home</h3>
                            <p>Altere a imagem de fundo da página inicial</p>
                        </div>
                        <div class="layout-card-content">
                            <div class="background-preview" id="backgroundPreview">
                                <img src="../../assets/images/default-images/background.jpg" alt="Background atual" id="backgroundImg">
                            </div>
                            <div class="layout-controls">
                                <input type="file" id="backgroundInput" accept="image/*" style="display: none;">
                                <button class="btn-secondary" onclick="document.getElementById('backgroundInput').click()">
                                    <i class="fas fa-upload"></i> Alterar Background
                                </button>
                                <button class="btn-outline" onclick="resetBackground()">
                                    <i class="fas fa-undo"></i> Restaurar
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Logo Editor -->
                    <div class="layout-card">
                        <div class="layout-card-header">
                            <h3><i class="fas fa-star"></i> Logo do Site</h3>
                            <p>Personalize a logo do estabelecimento</p>
                        </div>
                        <div class="layout-card-content">
                            <div class="logo-preview" id="logoPreview">
                                <img src="../../assets/images/default-images/logo_pizza.png" alt="Logo atual" id="logoImg">
                            </div>
                            <div class="layout-controls">
                                <input type="file" id="logoInput" accept="image/*" style="display: none;">
                                <button class="btn-secondary" onclick="document.getElementById('logoInput').click()">
                                    <i class="fas fa-upload"></i> Alterar Logo
                                </button>
                                <button class="btn-outline" onclick="resetLogo()">
                                    <i class="fas fa-undo"></i> Restaurar
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Text Editor -->
                    <div class="layout-card full-width">
                        <div class="layout-card-header">
                            <h3><i class="fas fa-font"></i> Textos da Home</h3>
                            <p>Edite os textos principais da página inicial</p>
                        </div>
                        <div class="layout-card-content">
                            <div class="text-editor-grid">
                                <div class="text-field">
                                    <label for="titleText">Título Principal</label>
                                    <input type="text" id="titleText" value="Produtos 10% OFF" placeholder="Digite o título">
                                    <small>Texto grande e em destaque</small>
                                </div>
                                <div class="text-field">
                                    <label for="subtitleText">Subtítulo</label>
                                    <input type="text" id="subtitleText" value="Confira no cardápio" placeholder="Digite o subtítulo">
                                    <small>Texto secundário abaixo do título</small>
                                </div>
                                <div class="text-field full-width">
                                    <label for="descriptionText">Descrição</label>
                                    <textarea id="descriptionText" rows="3" placeholder="Digite a descrição">Lorem ipsum dolor sit amet consectetur adipisicing elit. Incidunt, vitae beatae sint magnam, libero harum quae nobis veritatis iure hic provident illo porro.</textarea>
                                    <small>Texto descritivo mais longo</small>
                                </div>
                            </div>
                            <div class="text-preview">
                                <div class="text-preview-content">
                                    <h1 id="previewTitle">Produtos 10% OFF</h1>
                                    <h2 id="previewSubtitle">Confira no cardápio</h2>
                                    <p id="previewDescription">Lorem ipsum dolor sit amet consectetur adipisicing elit. Incidunt, vitae beatae sint magnam, libero harum quae nobis veritatis iure hic provident illo porro.</p>
                                </div>
                            </div>
                            <div class="layout-controls">
                                <button class="btn-primary" onclick="saveTexts()">
                                    <i class="fas fa-save"></i> Salvar Textos
                                </button>
                                <button class="btn-outline" onclick="resetTexts()">
                                    <i class="fas fa-undo"></i> Restaurar
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Carousel Editor -->
                    <div class="layout-card full-width">
                        <div class="layout-card-header">
                            <h3><i class="fas fa-images"></i> Carousel do Menu</h3>
                            <p>Gerencie as imagens do carousel da página de menu</p>
                        </div>
                        <div class="layout-card-content">
                            <div class="carousel-manager">
                                <div class="carousel-preview" id="carouselPreview">
                                    <div class="carousel-slide-preview active" data-index="0">
                                        <img src="../../assets/images/default-images/banner1.jpg" alt="Banner 1">
                                        <div class="slide-caption">Clássicas irresistíveis</div>
                                        <button class="remove-slide" onclick="removeSlide(0)">
                                            <i class="fas fa-times"></i>
                                        </button>
                                    </div>
                                    <div class="carousel-slide-preview" data-index="1">
                                        <img src="../../assets/images/default-images/banner2.jpg" alt="Banner 2">
                                        <div class="slide-caption">Promoções da semana</div>
                                        <button class="remove-slide" onclick="removeSlide(1)">
                                            <i class="fas fa-times"></i>
                                        </button>
                                    </div>
                                </div>
                                
                                <div class="carousel-controls">
                                    <input type="file" id="carouselInput" accept="image/*" style="display: none;" multiple>
                                    <button class="btn-secondary" onclick="document.getElementById('carouselInput').click()">
                                        <i class="fas fa-plus"></i> Adicionar Imagem
                                    </button>
                                    <button class="btn-primary" onclick="saveCarousel()">
                                        <i class="fas fa-save"></i> Salvar Carousel
                                    </button>
                                    <button class="btn-outline" onclick="resetCarousel()">
                                        <i class="fas fa-undo"></i> Restaurar
                                    </button>
                                </div>

                                <div class="slide-editor" id="slideEditor" style="display: none;">
                                    <h4>Editar Slide</h4>
                                    <div class="form-group">
                                        <label for="slideCaption">Legenda do Slide</label>
                                        <input type="text" id="slideCaption" placeholder="Digite a legenda">
                                    </div>
                                    <div class="form-group">
                                        <button class="btn-primary" onclick="updateSlide()">
                                            <i class="fas fa-check"></i> Atualizar
                                        </button>
                                        <button class="btn-outline" onclick="cancelSlideEdit()">
                                            <i class="fas fa-times"></i> Cancelar
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Instagram Section Editor -->
                    <div class="layout-card full-width">
                        <div class="layout-card-header">
                            <div>
                                <h3><i class="fab fa-instagram"></i> Seção Instagram</h3>
                                <p>Configure a seção do Instagram no menu</p>
                            </div>
                            <div class="header-switch">
                                <input type="checkbox" id="instagramEnabled">
                                <span class="slider"></span>
                            </div>
                        </div>
                        <div class="layout-card-content">
                            <div class="instagram-editor-grid">
                                <div class="instagram-fields-row">
                                    <div class="form-group">
                                        <label for="instagramText">Texto de Chamada</label>
                                        <input type="text" id="instagramText" placeholder="Ex: Acompanhe novidades">
                                        <small>Texto que aparece acima do handle</small>
                                    </div>

                                    <div class="form-group">
                                        <label for="instagramHandle">Handle do Instagram</label>
                                        <div class="input-with-prefix">
                                            <span class="prefix">@</span>
                                            <input type="text" id="instagramHandle" placeholder="nome_do_estabelecimento">
                                        </div>
                                        <small>Digite apenas o nome de usuário, sem o @</small>
                                    </div>
                                </div>
                            </div>

                            <div class="instagram-preview" id="instagramPreview">
                                <h4>Preview da Seção</h4>
                                <div class="preview-container">
                                    <div class="instagram-section-preview">
                                        <div class="instagram-content-preview">
                                            <div class="instagram-link-preview">
                                                <svg class="instagram-icon-preview" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
                                                    <path d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"></path>
                                                </svg>
                                                <span class="instagram-text-preview">
                                                    <div class="instagram-follow-preview" id="previewFollowText"></div>
                                                    <h2 class="instagram-handle-preview" id="previewHandle"></h2>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="layout-controls">
                                <button class="btn-primary" id="saveInstagramBtn">
                                    <i class="fas fa-save"></i> Salvar Configurações
                                </button>
                                <button class="btn-outline" id="resetInstagramBtn">
                                    <i class="fas fa-undo"></i> Restaurar Padrão
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- Funcionamento Section -->
            <section id="funcionamento-section" class="content-section">
                <div class="section-header with-description">
                    <h2>Funcionamento do Estabelecimento</h2>
                    <p class="section-description">Feche temporariamente a loja por imprevistos, feriados ou manutenções</p>
                </div>

                <div class="status-grid">
                    <!-- Status Atual -->
                    <div class="status-card">
                        <div class="status-card-header">
                            <h3><i class="fas fa-door-closed"></i> Status Atual</h3>
                            <span id="statusPill" class="status-pill automatic"><i class="fas fa-circle"></i> Automático</span>
                        </div>
                        <div class="status-card-content">
                            <div class="status-row">
                                <label class="switch">
                                    <input type="checkbox" id="closeNowToggle">
                                    <span class="slider">
                                        <i class="fas fa-power-off switch-icon"></i>
                                    </span>
                                </label>
                                <div class="switch-text">
                                    <strong id="switchLabel">Modo Manual</strong>
                                    <small id="switchDescription">Clique para alternar entre automático e manual</small>
                                </div>
                            </div>

                            <div class="form-grid">
                                <div class="form-group">
                                    <label for="closeReason">Motivo do fechamento</label>
                                    <select id="closeReason">
                                        <option value="">Selecione um motivo (opcional)</option>
                                        <option value="manutencao">Manutenção do equipamento</option>
                                        <option value="feriado">Feriado</option>
                                        <option value="equipe_reduzida">Equipe reduzida</option>
                                        <option value="falta_ingredientes">Falta de ingredientes</option>
                                        <option value="problema_energia">Problema de energia</option>
                                        <option value="evento_privado">Evento privado</option>
                                        <option value="ferias">Férias</option>
                                        <option value="emergencia">Emergência</option>
                                        <option value="outro">Outro motivo</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="reopenAt">Reabrir em (opcional)</label>
                                    <input type="datetime-local" id="reopenAt">
                                    <small>Deixe vazio para fechamento por tempo indeterminado</small>
                                </div>
                            </div>

                            <div class="form-grid">
                                <div class="form-group full">
                                    <label>Notificar clientes sobre o fechamento:</label>
                                    <div class="notification-options">
                                        <div class="checkbox-group">
                                            <input type="checkbox" id="notifyWhatsApp">
                                            <label for="notifyWhatsApp">
                                                <i class="fab fa-whatsapp"></i> Enviar mensagem via WhatsApp
                                            </label>
                                        </div>
                                        <div class="checkbox-group">
                                            <input type="checkbox" id="notifyEmail">
                                            <label for="notifyEmail">
                                                <i class="fas fa-envelope"></i> Enviar notificação por email
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="layout-controls">
                                <button class="btn-primary" id="saveStatusBtn">
                                    <i class="fas fa-times-circle"></i> Fechar Loja
                                </button>
                                <button class="btn-outline" id="clearStatusBtn">
                                    <i class="fas fa-check-circle"></i> Abrir Loja
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Horários de Funcionamento -->
                    <div class="status-card">
                        <div class="status-card-header">
                            <h3><i class="fas fa-clock"></i> Horários de Funcionamento</h3>
                            <p>Defina o expediente de cada dia da semana</p>
                        </div>
                        <div class="status-card-content">
                            <div class="hours-grid" id="hoursGrid">
                                <!-- Linhas renderizadas pelo JS -->
                            </div>
                            <div class="layout-controls">
                                <button class="btn-primary" id="saveHoursBtn"><i class="fas fa-save"></i> Salvar horários</button>
                                <button class="btn-outline" id="resetHoursBtn"><i class="fas fa-undo"></i> Restaurar padrão</button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Seção de Desenvolvedor (SUPER ADMIN APENAS) -->
        <section id="developer-section" class="content-section developer-content">
            <div class="developer-container">
                <!-- Título da Seção -->
                <div class="developer-header">
                    <div class="developer-title">
                        <i class="fas fa-code"></i>
                        <h1>Seção de Desenvolvedor</h1>
                    </div>
                    <div class="last-update">
                        <span id="last-update-time">Carregando...</span>
                    </div>
                </div>

                <!-- Status Geral do Sistema -->
                <div class="status-overview">
                    <h2><i class="fas fa-heartbeat"></i> Status do Sistema</h2>
                    <div class="status-grid">
                        <div class="status-card" id="database-status">
                            <div class="status-icon">
                                <i class="fas fa-database"></i>
                            </div>
                            <div class="status-info">
                                <h3>Banco de Dados</h3>
                                <span class="status-badge loading">Verificando...</span>
                                <p class="status-details">Aguardando verificação</p>
                            </div>
                        </div>

                        <div class="status-card" id="server-status">
                            <div class="status-icon">
                                <i class="fas fa-server"></i>
                            </div>
                            <div class="status-info">
                                <h3>Servidor</h3>
                                <span class="status-badge loading">Verificando...</span>
                                <p class="status-details">Aguardando verificação</p>
                            </div>
                        </div>

                        <div class="status-card" id="payment-api-status">
                            <div class="status-icon">
                                <i class="fas fa-credit-card"></i>
                            </div>
                            <div class="status-info">
                                <h3>API de Pagamentos</h3>
                                <span class="status-badge loading">Verificando...</span>
                                <p class="status-details">Aguardando verificação</p>
                            </div>
                        </div>
                    </div>

                    <div class="status-actions">
                        <button class="btn-refresh" id="btn-refresh-status">
                            <i class="fas fa-sync-alt"></i>
                            Verificar Novamente
                        </button>
                    </div>
                </div>

                <!-- Logs do Sistema -->
                <div class="logs-section">
                    <div class="logs-header">
                        <h2><i class="fas fa-list-alt"></i> Logs do Sistema</h2>
                        <div class="logs-controls">
                            <select id="log-level-filter" class="filter-select">
                                <option value="">Todos os níveis</option>
                                <option value="debug">Debug</option>
                                <option value="info">Info</option>
                                <option value="warn">Warning</option>
                                <option value="error">Error</option>
                                <option value="fatal">Fatal</option>
                            </select>
                            
                            <select id="log-source-filter" class="filter-select">
                                <option value="">Todas as origens</option>
                                <option value="system">Sistema</option>
                                <option value="security">Segurança</option>
                                <option value="developer_section">Seção Dev</option>
                                <option value="audit">Auditoria</option>
                            </select>

                            <button class="btn-clear-logs" id="btn-clear-logs">
                                <i class="fas fa-trash"></i>
                                Limpar Logs
                            </button>
                        </div>
                    </div>

                    <div class="logs-container">
                        <div class="logs-loading" id="logs-loading">
                            <i class="fas fa-spinner fa-spin"></i>
                            Carregando logs...
                        </div>
                        
                        <div class="logs-list" id="logs-list">
                            <!-- Logs serão carregados aqui via JavaScript -->
                        </div>

                        <div class="logs-pagination" id="logs-pagination">
                            <!-- Paginação será inserida aqui -->
                        </div>
                    </div>
                </div>

                <!-- Estatísticas do Sistema -->
                <div class="stats-section">
                    <h2><i class="fas fa-chart-line"></i> Estatísticas do Sistema</h2>
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-clock"></i>
                            </div>
                            <div class="stat-info">
                                <h3>Uptime do Servidor</h3>
                                <span class="stat-value" id="server-uptime">Carregando...</span>
                            </div>
                        </div>

                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-memory"></i>
                            </div>
                            <div class="stat-info">
                                <h3>Uso de Memória</h3>
                                <span class="stat-value" id="memory-usage">Carregando...</span>
                            </div>
                        </div>

                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-database"></i>
                            </div>
                            <div class="stat-info">
                                <h3>Conexões DB</h3>
                                <span class="stat-value" id="db-connections">Carregando...</span>
                            </div>
                        </div>

                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-exclamation-triangle"></i>
                            </div>
                            <div class="stat-info">
                                <h3>Logs de Erro (7d)</h3>
                                <span class="stat-value" id="error-logs-count">Carregando...</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Informações Técnicas -->
                <div class="tech-info-section">
                    <h2><i class="fas fa-info-circle"></i> Informações Técnicas</h2>
                    <div class="tech-grid">
                        <div class="tech-card">
                            <h3>Servidor</h3>
                            <div class="tech-details" id="server-info">
                                <p><strong>Node.js:</strong> <span id="node-version">-</span></p>
                                <p><strong>Plataforma:</strong> <span id="platform">-</span></p>
                                <p><strong>PID:</strong> <span id="process-id">-</span></p>
                            </div>
                        </div>

                        <div class="tech-card">
                            <h3>Banco de Dados</h3>
                            <div class="tech-details" id="database-info">
                                <p><strong>Versão:</strong> <span id="db-version">-</span></p>
                                <p><strong>Conexões:</strong> <span id="db-connections-total">-</span></p>
                                <p><strong>Uptime:</strong> <span id="db-uptime">-</span></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Modals -->
    <!-- Modal de Categorias -->
    <div class="modal" id="categoryModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Gerenciar Categorias</h3>
                <button class="modal-close" aria-label="Fechar">&times;</button>
            </div>
            <div class="modal-body">
                <div class="category-grid">
                    <!-- Coluna esquerda: formulário -->
                    <div class="category-form-card">
                        <div class="form-title">
                            <h4>Nova categoria</h4>
                            <p class="form-subtitle">Crie seções do cardápio com título, ordem e visibilidade.</p>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="catTitle">Título *</label>
                                <input type="text" id="catTitle" placeholder="Ex: Produtos" required>
                                <small class="helper">Aparece como título H1 no menu.</small>
                            </div>
                            <div class="form-group">
                                <label for="catSlug">Slug</label>
                                <input type="text" id="catSlug" placeholder="gerado automaticamente" disabled>
                                <small class="helper">Usado internamente e na âncora da página.</small>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="catPosition">Posição</label>
                                <input type="number" id="catPosition" min="0" value="0">
                                <small class="helper">Define a ordem de exibição (menor aparece primeiro).</small>
                            </div>
                            <div class="form-group form-group-inline">
                                <label for="catActive">Status</label>
                                <div class="inline-field">
                                    <input type="checkbox" id="catActive" checked>
                                    <span>Ativa</span>
                                </div>
                                <small class="helper">Desmarque para ocultar do menu público.</small>
                            </div>
                        </div>
                        <div class="form-actions stick-right">
                            <button type="button" class="btn-secondary" id="cancelCategoryBtn">Fechar</button>
                            <button type="button" class="btn-primary" id="saveCategoryBtn">Adicionar</button>
                        </div>
                    </div>

                    <!-- Coluna direita: tabela/lista -->
                    <div class="category-list-card">
                        <div class="list-title">
                            <h4>Categorias</h4>
                            <p class="form-subtitle">Gerencie as categorias existentes abaixo.</p>
                        </div>
                        <div class="products-table">
                            <div class="table-wrapper">
                                <table class="table-responsive">
                                    <thead>
                                        <tr>
                                            <th>Título</th>
                                            <th>Slug</th>
                                            <th>Posição</th>
                                            <th>Ativa</th>
                                            <th>Ações</th>
                                        </tr>
                                    </thead>
                                    <tbody id="categoriesTableBody"><!-- preenchido via JS --></tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Modal de Produto -->
    <div class="modal" id="productModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="productModalTitle">Adicionar Produto</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="productForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label>Nome do Produto *</label>
                            <input type="text" name="name" required>
                        </div>
                        <div class="form-group">
                            <label>Categoria *</label>
                            <select name="category" required>
                                <option value="">Selecione...</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Tamanhos</label>
                            <div class="inline-field" role="radiogroup" aria-label="Seleção de tamanhos" style="display:flex;align-items:center;gap:16px;flex-wrap:nowrap;white-space:nowrap;margin-bottom:16px;">
                                <label style="display:inline-flex!important;align-items:center;gap:6px;cursor:pointer;white-space:nowrap;flex:0 0 auto;">
                                    <input type="radio" name="sizeMode" value="multiple" checked>
                                    <span>Vários tamanhos</span>
                                </label>
                                <label style="display:inline-flex!important;align-items:center;gap:6px;cursor:pointer;white-space:nowrap;flex:0 0 auto;">
                                    <input type="radio" name="sizeMode" value="unique">
                                    <span>Tamanho único</span>
                                </label>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Descrição *</label>
                        <textarea name="description" required></textarea>
                    </div>
                    <div id="multiplePricesGroup" class="form-row">
                        <div class="form-group">
                            <label>Preço Pequeno (R$)</label>
                            <input type="number" step="0.01" name="price1">
                        </div>
                        <div class="form-group">
                            <label>Preço Médio (R$)</label>
                            <input type="number" step="0.01" name="price2">
                        </div>
                        <div class="form-group">
                            <label>Preço Grande (R$)</label>
                            <input type="number" step="0.01" name="price3">
                        </div>
                    </div>
                    <div id="uniquePriceGroup" class="form-row" style="display:none;">
                        <div class="form-group" style="grid-column: 1 / -1;">
                            <label>Preço Único (R$) *</label>
                            <input type="number" step="0.01" name="priceUnique">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Imagem do Produto</label>
                        <input type="file" name="image" id="productImageInput" accept="image/*">
                        <div class="image-preview" id="productImagePreviewWrapper" tabindex="0" aria-label="Pré-visualização da imagem; clique para selecionar ou arraste uma imagem">
                            <div class="placeholder" aria-hidden="true">
                                <i class="fas fa-image"></i>
                                <span>Clique para selecionar ou arraste uma imagem</span>
                                <small>JPG, PNG, WEBP ou GIF até 2MB</small>
                            </div>
                            <img id="productImagePreview" alt="Pré-visualização" />
                            <button type="button" class="clear-image-btn" id="clearProductImageBtn" aria-label="Remover imagem">&times;</button>
                        </div>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn-secondary" id="cancelProductBtn">Cancelar</button>
                        <button type="submit" class="btn-primary">Salvar</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Modal de Pedido Detalhes -->
    <div class="modal" id="orderModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Detalhes do Pedido</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body" id="orderModalBody">
                <!-- Conteúdo será inserido via JavaScript -->
            </div>
        </div>
    </div>

    <!-- Modal de Cliente Detalhes -->
    <div class="modal" id="clientModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Detalhes do Cliente</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body" id="clientModalBody">
                <!-- Conteúdo será inserido via JavaScript -->
            </div>
        </div>
    </div>

    <!-- Modal de Confirmação -->
    <div id="confirmModal" class="confirm-modal">
        <div class="confirm-modal-content">
            <div class="confirm-modal-header">
                <div class="confirm-icon">
                    <i class="fas fa-question-circle"></i>
                </div>
                <h3 id="confirmTitle">Confirmar ação</h3>
            </div>
            <div class="confirm-modal-body">
                <p id="confirmMessage">Tem certeza que deseja realizar esta ação?</p>
            </div>
            <div class="confirm-modal-footer">
                <button id="confirmCancel" class="btn-secondary">
                    <i class="fas fa-times"></i>
                    Cancelar
                </button>
                <button id="confirmOk" class="btn-danger">
                    <i class="fas fa-check"></i>
                    Confirmar
                </button>
            </div>
        </div>
    </div>

    <!-- Order Notifications System -->
    <!-- HTML template: clean, minimal, fully separated from JS/CSS -->
    <template id="orderNotificationTemplate">
        <div class="order-notification" data-id="">
            <div class="notif">
                <button class="notif__close" aria-label="Fechar notificação" title="Fechar">&times;</button>
                <div class="notif__head" aria-label="Resumo do pedido">
                    <div class="notif__left">
                        <div class="notif__title">
                            <span class="notif__badge">Novo pedido</span>
                            <span class="notif__id">#0</span>
                        </div>
                        <time class="notif__time" datetime="">--:--</time>
                    </div>
                </div>
                <div class="notif__body">
                    <div class="notif__row">
                        <div class="notif__customer">
                            <strong class="notif__name">Cliente</strong>
                            <span class="notif__phone"></span>
                        </div>
                        <span class="notif__value" aria-label="Valor do pedido">R$ 0,00</span>
                    </div>
                    <div class="notif__address" title=""></div>
                </div>
                <div class="notif__actions">
                    <button class="btn btn--ghost" data-action="view" type="button">Ver</button>
                    <button class="btn btn--primary" data-action="accept" type="button">Aceitar</button>
                </div>
            </div>
        </div>
    </template>

    <div id="orderNotificationContainer" class="notification-container" role="region" aria-live="polite" aria-label="Notificações de novos pedidos">
        <!-- Notifications will be inserted here from template -->
    </div>

    <!-- Audio for notifications -->
    <audio id="notificationSound" preload="auto">
        <source src="../../assets/sounds/notificações1.mp3" type="audio/mpeg">
    </audio>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="../../assets/js/shared/layout.js"></script>
    <script src="../../assets/js/shared/image-fallback.js"></script>
    <!-- Socket.IO client -->
    <script src="/socket.io/socket.io.js"></script>
    <script src="../../assets/js/admin/notification-sound.js"></script>
    <script src="../../assets/js/admin/notifications.js"></script>
    <script src="../../assets/js/admin/userProfile.js"></script>
    <script src="../../assets/js/admin/admin.js"></script>
</body>

</html>
